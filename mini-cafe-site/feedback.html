<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback | Dylan's Bakeshop</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="feedback-style.css">
</head>
<body>

<header>
    <img src="images/logo.png" alt="Dylan's Bakeshop Logo" width="250px" class="Logo">
    <nav>
        <a href="index.html">Home</a> |
        <a href="about.html">About</a> |
        <a href="menu.html">Menu</a> |
        <a href="contact.html">Contact</a> |
        <a href="gallery.html">Gallery</a> |
        <a href="feedback.html">Feedback</a>
    </nav>
</header>

<h1>We Value Your Feedback!</h1>
<p>Share your thoughts with us to help make Dylan's Bakeshop even better!</p>
<hr>

<div class="container-feedback">
    <form id="feedbackForm" onsubmit="submitFeedback(event)">
        <label for="name">Name:</label>
        <input type="text" id="name" required>

        <label for="email">Email:</label>
        <input type="text" id="email" required>

        <label for="message">Feedback:</label>
        <textarea id="message" rows="5" required></textarea>

        <button type="submit">Submit Feedback</button>
    </form>

    <div id="feedbackMessage"></div>

    <div class="feedback-list" id="feedbackList"></div>
</div>

<div class="footer">
    <p>&copy; 2025 Dylan's Bakeshop. All rights reserved.</p>
</div>

<script>
let feedbacks = [];

function validateEmail(email) {
    return /\S+@\S+\.\S+/.test(email);
}

function submitFeedback(event) {
    event.preventDefault();

    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();
    const message = document.getElementById("message").value.trim();
    const feedbackMessage = document.getElementById("feedbackMessage");

    feedbackMessage.innerText = "";
    feedbackMessage.className = "";

    // Validation
    if (!name) {
        feedbackMessage.innerText = "Name cannot be empty.";
        feedbackMessage.className = "error-message";
        return;
    }
    if (!validateEmail(email)) {
        feedbackMessage.innerText = "Please enter a valid email.";
        feedbackMessage.className = "error-message";
        return;
    }
    if (message.length < 5) {
        feedbackMessage.innerText = "Feedback must be at least 5 characters.";
        feedbackMessage.className = "error-message";
        return;
    }

    // Add feedback
    feedbacks.push({ name, email, message });

    // Clear form
    document.getElementById("feedbackForm").reset();

    feedbackMessage.innerText = "Thank you for your feedback!";
    feedbackMessage.className = "success-message";

    displayFeedbacks();
}

function displayFeedbacks() {
    const list = document.getElementById("feedbackList");
    list.innerHTML = "";

    feedbacks.forEach((fb, index) => {
        const div = document.createElement("div");
        div.classList.add("feedback-item");
        div.innerHTML = `<strong>${index + 1}. ${fb.name} (${fb.email}):</strong> <br>${fb.message}`;
        list.appendChild(div);
    });
}
</script>

</body>
</html>
